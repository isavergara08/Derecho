<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Plan de estudios â€“ Derecho</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(to bottom, #f7efff, #fcfaff);
  margin: 0;
  padding: 40px;
}

.header {
  text-align: center;
  margin-bottom: 40px;
}

.header h1 {
  font-size: 36px;
  font-weight: 600;
  color: #000;
}

.header p {
  font-size: 18px;
  color: #333;
}

.progress-container {
  width: 60%;
  height: 16px;
  background: #f2dfff;
  border-radius: 999px;
  margin: 15px auto;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: #8238FF;
  width: 0%;
  border-radius: 999px;
  transition: width 0.3s;
}

.menu button {
  margin: 5px;
  padding: 10px 22px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  background: #e8d4ff;
  color: #5b21b6;
  font-weight: 500;
}

.menu button:nth-child(4) {
  background: #e6e6e6;
  color: #555;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 35px;
  justify-items: center;
}

@media (max-width: 900px) {
  .grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px) {
  .grid { grid-template-columns: 1fr; }
}

/* ðŸ”¥ ESTO CENTRA EL 10Â° SEMESTRE */
.grid .card:last-child {
  grid-column: 2 / 3;
}
@media (max-width: 900px) {
  .grid .card:last-child { grid-column: auto; }
}

.card {
  background: #faf4ff;
  border-radius: 25px;
  padding: 20px;
  border: 2px solid #d9b8ff;
  width: 100%;
  max-width: 350px;
}

.card.complete {
  background: #f1e8ff;
  border-color: #a673ff;
}

.sem-title {
  background: #8238FF;
  color: white;
  padding: 12px 0;
  border-radius: 16px;
  text-align: center;
  font-size: 22px;
  font-weight: 600;
  margin-bottom: 10px;
}

.info-line {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 12px;
}

.tag {
  background: #9b53ff;
  color: white;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
}

.subject {
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 18px;
  background: #f6edff;
  cursor: pointer;
  color: #000;
}

.subject.checked {
  background: #e3c7ff;
  text-decoration: line-through;
  text-decoration-thickness: 1px;
  color: #7a4bb3;
}
</style>
</head>

<body>

<div class="header">
  <h1>Plan de estudios â€“ Derecho</h1>
  <p>CrÃ©ditos aprobados: <span id="approvedCredits">0</span> / 180</p>
  <div class="progress-container">
    <div id="progress" class="progress-bar"></div>
  </div>
  <div class="menu">
    <button onclick="setFilter('all')">Todas</button>
    <button onclick="setFilter('approved')">Aprobadas</button>
    <button onclick="setFilter('pending')">Pendientes</button>
    <button onclick="resetAll()">Reiniciar</button>
  </div>
</div>

<div id="grid" class="grid"></div>

<script>
const TOTAL_CREDITS = 180;

const semesters = [
{ name:'7Â° semestre', credits:25, subjects:[
  {name:'Relaciones Familiares',credits:4},
  {name:'Sociedades',credits:3},
  {name:'Contratos Estatales',credits:3},
  {name:'Proceso Ejecutivo y Declarativo',credits:3},
  {name:'ArgumentaciÃ³n en Procesos Penales',credits:3},
  {name:'Materia Facultativa 1',credits:3},
  {name:'Materia Facultativa 2',credits:3},
  {name:'Curso Libre ElecciÃ³n 3',credits:3}
]},
{ name:'10Â° semestre', credits:4, subjects:[
  {name:'Consultorio JurÃ­dico II',credits:4},
  {name:'Examen de Facultad',credits:0}
]}
];

let approved = JSON.parse(localStorage.getItem('malla-aprobadas') || '{}');
let filter='all';

function toggle(name){
  approved[name]=!approved[name];
  localStorage.setItem('malla-aprobadas',JSON.stringify(approved));
  render();
}
function setFilter(f){filter=f;render();}
function resetAll(){approved={};localStorage.removeItem('malla-aprobadas');render();}
function totalApproved(){
  return semesters.reduce((t,s)=>t+s.subjects.reduce((a,b)=>a+(approved[b.name]?b.credits:0),0),0);
}
function render(){
  const grid=document.getElementById('grid');
  grid.innerHTML='';
  const total=totalApproved();
  document.getElementById('approvedCredits').textContent=total;
  document.getElementById('progress').style.width=(total/TOTAL_CREDITS*100)+'%';

  semesters.forEach(sem=>{
    const card=document.createElement('div');
    const complete=sem.subjects.every(s=>approved[s.name]||s.credits===0);
    card.className='card'+(complete?' complete':'');
    card.innerHTML=`<div class="sem-title">${sem.name}</div>
      <div class="info-line">${complete?'<div class="tag">COMPLETO</div>':''}
      <span>${sem.subjects.reduce((a,b)=>a+(approved[b.name]?b.credits:0),0)} / ${sem.credits} crÃ©ditos</span></div>`;
    sem.subjects.forEach(sub=>{
      const d=document.createElement('div');
      d.className='subject'+(approved[sub.name]?' checked':'');
      d.textContent=`${sub.name} (${sub.credits})`;
      d.onclick=()=>toggle(sub.name);
      card.appendChild(d);
    });
    grid.appendChild(card);
  });
}
render();
</script>

</body>
</html>
